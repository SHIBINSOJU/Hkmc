<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="nav-logo">
            <img src="/images/logo.png" alt="HKMC" onerror="this.style.display='none'"> 
            <span class="logo-text">HKMC</span>
        </a>

        <div class="menu-toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>

        <div class="nav-menu">
            
            <ul class="nav-list">
                <li><a href="/" class="nav-link <%= page === 'home' ? 'active' : '' %>">Home</a></li>
                <li><a href="/leaderboard" class="nav-link <%= page === 'leaderboard' ? 'active' : '' %>">Stats</a></li>
                <li><a href="/store" class="nav-link store <%= page === 'store' ? 'active' : '' %>">Store üíé</a></li>
                <li><a href="/vote" class="nav-link <%= page === 'vote' ? 'active' : '' %>">Vote</a></li>
                <li>
    <a href="/donate" class="nav-link <%= page === 'donate' ? 'active' : '' %>" style="color: #ffd700;">
        Support Us ‚ù§Ô∏è
    </a>
</li>

            </ul>

            <div class="mobile-extras">
                <a href="https://discord.gg/yourinvite" class="discord-btn-mobile">
                    <i class="fab fa-discord"></i> Join Discord
                </a>
                <div class="mobile-socials">
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>

        <a href="https://discord.gg/yourinvite" target="_blank" class="discord-btn desktop-btn">
            Join Discord
        </a>
    </div>
</nav>

<script>
    const menuToggle = document.querySelector('#mobile-menu');
    const navMenu = document.querySelector('.nav-menu');
    const body = document.querySelector('body');

    menuToggle.addEventListener('click', () => {
        menuToggle.classList.toggle('is-active');
        navMenu.classList.toggle('active');
        // Prevent scrolling when menu is open
        if(navMenu.classList.contains('active')) {
            body.style.overflow = 'hidden';
        } else {
            body.style.overflow = 'auto';
        }
    });
</script>

<style>
    /* --- NAVBAR BASE --- */
    .navbar {
        background: rgba(5, 5, 5, 0.85); /* Semi-transparent */
        backdrop-filter: blur(12px);      /* The Glass Effect */
        -webkit-backdrop-filter: blur(12px);
        height: 70px;
        position: fixed; /* Stick to top */
        width: 100%;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .nav-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 100%;
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
    }

    /* --- LOGO --- */
    .nav-logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        gap: 10px;
    }
    .nav-logo img { height: 40px; }
    .logo-text {
        font-family: 'Outfit', sans-serif;
        font-weight: 900;
        font-size: 1.5rem;
        color: white;
        letter-spacing: 1px;
    }

    /* --- DESKTOP LINKS (Hidden by default in this structure, strictly specifically for mobile layout handling) --- */
    /* Note: To keep code clean, I used a mobile-first approach where the list is the mobile menu. 
       For desktop, we usually float these right. */
       
    .nav-menu {
        position: fixed;
        top: 70px; /* Starts below navbar */
        left: 0;
        width: 100%;
        height: calc(100vh - 70px);
        background: rgba(0, 0, 0, 0.95); /* Darker background */
        backdrop-filter: blur(20px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transform: translateX(100%); /* Hidden to the right */
        transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        z-index: 998;
    }

    .nav-menu.active {
        transform: translateX(0); /* Slide in */
    }

    .nav-list {
        list-style: none;
        padding: 0;
        text-align: center;
    }

    .nav-link {
        display: block;
        font-size: 2rem; /* Big Fonts */
        font-weight: 800;
        color: rgba(255, 255, 255, 0.5);
        text-decoration: none;
        margin: 20px 0;
        text-transform: uppercase;
        transition: 0.3s;
    }

    .nav-link.active, .nav-link:hover {
        color: #fff;
        text-shadow: 0 0 20px rgba(255, 26, 26, 0.8); /* Red Glow */
        transform: scale(1.1);
    }

    .nav-link.store { color: #ffd700 !important; opacity: 0.8; }
    .nav-link.store.active { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8); opacity: 1; }

    /* --- MOBILE EXTRAS --- */
    .mobile-extras {
        margin-top: 40px;
        text-align: center;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .discord-btn-mobile {
        background: #5865F2;
        color: white;
        padding: 15px 40px;
        border-radius: 50px;
        font-weight: bold;
        text-decoration: none;
        font-size: 1.1rem;
        box-shadow: 0 5px 20px rgba(88, 101, 242, 0.4);
    }

    .mobile-socials i {
        font-size: 1.5rem;
        color: #888;
        margin: 0 15px;
        transition: 0.3s;
    }
    .mobile-socials i:hover { color: white; }

    /* --- HAMBURGER ANIMATION --- */
    .menu-toggle {
        display: none;
        flex-direction: column;
        gap: 6px;
        cursor: pointer;
    }
    .bar {
        width: 30px;
        height: 3px;
        background-color: white;
        border-radius: 5px;
        transition: 0.3s;
    }
    .menu-toggle.is-active .bar:nth-child(1) { transform: translateY(9px) rotate(45deg); background: #ff1a1a; }
    .menu-toggle.is-active .bar:nth-child(2) { opacity: 0; }
    .menu-toggle.is-active .bar:nth-child(3) { transform: translateY(-9px) rotate(-45deg); background: #ff1a1a; }

    /* --- DESKTOP VIEW RESTORATION --- */
    @media screen and (min-width: 960px) {
        .menu-toggle { display: none; }
        
        .nav-menu {
            position: static;
            height: auto;
            width: auto;
            background: transparent;
            backdrop-filter: none;
            transform: none;
            flex-direction: row;
        }

        .nav-list { display: flex; gap: 30px; margin: 0; }
        .nav-link { font-size: 1rem; margin: 0; font-weight: 600; }
        .mobile-extras { display: none; }
        .desktop-btn { display: block; background: #5865F2; padding: 8px 20px; border-radius: 5px; color: white; text-decoration: none; font-weight: bold; }
    }
    
    @media screen and (max-width: 959px) {
        .desktop-btn { display: none; }
        .menu-toggle { display: flex; }
    }
</style>
